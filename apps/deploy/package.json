{
  "name": "@zero/deploy",
  "private": true,
  "type": "module",
  "devDependencies": {
    "@aws-cdk/toolkit-lib": "^1.14.1",
    "@drizzle-team/brocli": "0.11.0",
    "@zero/backend": "workspace:*",
    "@zero/web": "workspace:*",
    "aws-cdk": "2.1100.1",
    "aws-cdk-lib": "^2.236.0",
    "cdk-nag": "^2.37.55",
    "cdk-secure-string-parameter": "^0.0.22",
    "constructs": "^10.4.5"
  },
  "nx": {
    "targets": {
      "synth": {
        "executor": "nx:run-commands",
        "options": {
          "command": "vite-node src/deploy-cli.ts synth-app --environment $ENVIRONMENT --region $REGION --appVersion $VERSION --domainName $DOMAINNAME --account $ACCOUNT",
          "cwd": "apps/deploy"
        },
        "configurations": {
          "production": {
            "env": {
              "ENVIRONMENT": "production"
            }
          },
          "staging": {
            "env": {
              "ENVIRONMENT": "staging"
            }
          }
        }
      },
      "deploy": {
        "dependsOn": [
          "^build",
          {
            "projects": [
              "@zero/backend"
            ],
            "target": "build"
          }
        ],
        "executor": "nx:run-commands",
        "options": {
          "command": "vite-node src/deploy-cli.ts deploy-app --environment $ENVIRONMENT --assemblyDir ./cdk.out",
          "cwd": "apps/deploy"
        },
        "configurations": {
          "production": {
            "env": {
              "ENVIRONMENT": "production"
            }
          },
          "staging": {
            "env": {
              "ENVIRONMENT": "staging"
            }
          }
        }
      }
    }
  },
  "dependencies": {
    "@aws-cdk/toolkit-lib": "^1.14.1",
    "@zero/cdk-ux": "workspace:*",
    "ink": "^6.6.0",
    "ink-spinner": "^5.0.0",
    "react": "catalog:",
    "ts-pattern": "^5.9.0"
  }
}
