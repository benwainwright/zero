import{a as u,p as F,R as qe,z as Me}from"./chunk-7TW6LJC6-DaDHYynL.js";import{u as Ke,F as He,G as Ue,h as J,i as z,l as oe,m as ue,B as Z,r as ne,q as Te,w as ze}from"./current-user-provider-CQskWHqO.js";import{u as Xe,c as G,b as Ce,g as Ge}from"./use-isomorphic-effect-BxLUwthI.js";import{C as Ze}from"./CloseButton-BtMh9jHH.js";import{r as Je}from"./UnstyledButton-AqrG-hBD.js";function Ae(t=null){const e=u.createContext(t);return[({children:n,value:o})=>F.jsx(e.Provider,{value:o,children:n}),()=>u.useContext(e)]}const Qe=qe.useId||(()=>{});function Ye(){const t=Qe();return t?`mantine-${t.replace(/:/g,"")}`:""}function et(t){const e=Ye(),[r,s]=u.useState(e);return Xe(()=>{s(Je())},[]),typeof t=="string"?t:typeof window>"u"?e:r}function tt({classNames:t,styles:e,props:r,stylesCtx:s}){const n=Ke();return{resolvedClassNames:Ue({theme:n,classNames:t,props:r,stylesCtx:s||void 0}),resolvedStyles:He({theme:n,styles:e,props:r,stylesCtx:s||void 0})}}const[rt,st]=Ae({size:"sm"}),Le=J((t,e)=>{const r=z("InputClearButton",null,t),{size:s,variant:n,vars:o,classNames:l,styles:c,...i}=r,a=st(),{resolvedClassNames:m,resolvedStyles:b}=tt({classNames:l,styles:c,props:r});return F.jsx(Ze,{variant:n||"transparent",ref:e,size:s||a?.size||"sm",classNames:m,styles:b,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...i.style},...i})});Le.displayName="@mantine/core/InputClearButton";const nt={xs:7,sm:8,md:10,lg:12,xl:15};function ot({__clearable:t,__clearSection:e,rightSection:r,__defaultRightSection:s,size:n="sm"}){const o=t&&e;return o&&(r||s)?F.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:nt[n]},children:[o,r||s]}):r===null?null:r||o||s}const[it,be]=Ae({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var T={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const lt=ue((t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${G(e)} - ${ne(2)})`}})),Se=J((t,e)=>{const r=z("InputDescription",null,t),{classNames:s,className:n,style:o,styles:l,unstyled:c,vars:i,size:a,__staticSelector:m,__inheritStyles:b=!0,attributes:g,variant:V,...P}=z("InputDescription",null,r),I=be(),f=oe({name:["InputWrapper",m],props:r,classes:T,className:n,style:o,classNames:s,styles:l,unstyled:c,attributes:g,rootSelector:"description",vars:i,varsResolver:lt}),p=b&&I?.getStyles||f;return F.jsx(Z,{component:"p",ref:e,variant:V,size:a,...p("description",I?.getStyles?{className:n,style:o}:void 0),...P})});Se.classes=T;Se.displayName="@mantine/core/InputDescription";const ct=ue((t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${G(e)} - ${ne(2)})`}})),he=J((t,e)=>{const r=z("InputError",null,t),{classNames:s,className:n,style:o,styles:l,unstyled:c,vars:i,size:a,attributes:m,__staticSelector:b,__inheritStyles:g=!0,variant:V,...P}=r,I=oe({name:["InputWrapper",b],props:r,classes:T,className:n,style:o,classNames:s,styles:l,unstyled:c,attributes:m,rootSelector:"error",vars:i,varsResolver:ct}),f=be(),p=g&&f?.getStyles||I;return F.jsx(Z,{component:"p",ref:e,variant:V,size:a,...p("error",f?.getStyles?{className:n,style:o}:void 0),...P})});he.classes=T;he.displayName="@mantine/core/InputError";const we={labelElement:"label"},at=ue((t,{size:e})=>({label:{"--input-label-size":G(e),"--input-asterisk-color":void 0}})),ge=J((t,e)=>{const r=z("InputLabel",we,t),{classNames:s,className:n,style:o,styles:l,unstyled:c,vars:i,labelElement:a,size:m,required:b,htmlFor:g,onMouseDown:V,children:P,__staticSelector:I,variant:f,mod:p,attributes:S,..._}=z("InputLabel",we,r),j=oe({name:["InputWrapper",I],props:r,classes:T,className:n,style:o,classNames:s,styles:l,unstyled:c,attributes:S,rootSelector:"label",vars:i,varsResolver:at}),$=be(),y=$?.getStyles||j;return F.jsxs(Z,{...y("label",$?.getStyles?{className:n,style:o}:void 0),component:a,variant:f,size:m,ref:e,htmlFor:a==="label"?g:void 0,mod:[{required:b},p],onMouseDown:h=>{V?.(h),!h.defaultPrevented&&h.detail>1&&h.preventDefault()},..._,children:[P,b&&F.jsx("span",{...y("required"),"aria-hidden":!0,children:" *"})]})});ge.classes=T;ge.displayName="@mantine/core/InputLabel";const Fe=J((t,e)=>{const r=z("InputPlaceholder",null,t),{classNames:s,className:n,style:o,styles:l,unstyled:c,vars:i,__staticSelector:a,variant:m,error:b,mod:g,attributes:V,...P}=r,I=oe({name:["InputPlaceholder",a],props:r,classes:T,className:n,style:o,classNames:s,styles:l,unstyled:c,attributes:V,rootSelector:"placeholder"});return F.jsx(Z,{...I("placeholder"),mod:[{error:!!b},g],component:"span",variant:m,ref:e,...P})});Fe.classes=T;Fe.displayName="@mantine/core/InputPlaceholder";function ut(t,{hasDescription:e,hasError:r}){const s=t.findIndex(i=>i==="input"),n=t.slice(0,s),o=t.slice(s+1),l=e&&n.includes("description")||r&&n.includes("error");return{offsetBottom:e&&o.includes("description")||r&&o.includes("error"),offsetTop:l}}const dt={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},ft=ue((t,{size:e})=>({label:{"--input-label-size":G(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${G(e)} - ${ne(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${G(e)} - ${ne(2)})`}})),je=J((t,e)=>{const r=z("InputWrapper",dt,t),{classNames:s,className:n,style:o,styles:l,unstyled:c,vars:i,size:a,variant:m,__staticSelector:b,inputContainer:g,inputWrapperOrder:V,label:P,error:I,description:f,labelProps:p,descriptionProps:S,errorProps:_,labelElement:j,children:$,withAsterisk:y,id:h,required:E,__stylesApiProps:D,mod:O,attributes:M,...A}=r,K=oe({name:["InputWrapper",b],props:D||r,classes:T,className:n,style:o,classNames:s,styles:l,unstyled:c,attributes:M,vars:i,varsResolver:ft}),N={size:a,variant:m,__staticSelector:b},L=et(h),Q=typeof y=="boolean"?y:E,Y=_?.id||`${L}-error`,ee=S?.id||`${L}-description`,te=L,U=!!I&&typeof I!="boolean",X=!!f,re=`${U?Y:""} ${X?ee:""}`,ie=re.trim().length>0?re.trim():void 0,q=p?.id||`${L}-label`,le=P&&F.jsx(ge,{labelElement:j,id:q,htmlFor:te,required:Q,...N,...p,children:P},"label"),B=X&&F.jsx(Se,{...S,...N,size:S?.size||N.size,id:S?.id||ee,children:f},"description"),d=F.jsx(u.Fragment,{children:g($)},"input"),v=U&&u.createElement(he,{..._,...N,size:_?.size||N.size,key:"error",id:_?.id||Y},I),k=V.map(R=>{switch(R){case"label":return le;case"input":return d;case"description":return B;case"error":return v;default:return null}});return F.jsx(it,{value:{getStyles:K,describedBy:ie,inputId:te,labelId:q,...ut(V,{hasDescription:X,hasError:U})},children:F.jsx(Z,{ref:e,variant:m,size:a,mod:[{error:!!I},O],...K("root"),...A,children:k})})});je.classes=T;je.displayName="@mantine/core/InputWrapper";const pt={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},yt=ue((t,e,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ce(e.size,"input-height"),"--input-fz":G(e.size),"--input-radius":e.radius===void 0?void 0:Ge(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?ne(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?ne(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Ce(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}})),x=Te((t,e)=>{const r=z("Input",pt,t),{classNames:s,className:n,style:o,styles:l,unstyled:c,required:i,__staticSelector:a,__stylesApiProps:m,size:b,wrapperProps:g,error:V,disabled:P,leftSection:I,leftSectionProps:f,leftSectionWidth:p,rightSection:S,rightSectionProps:_,rightSectionWidth:j,rightSectionPointerEvents:$,leftSectionPointerEvents:y,variant:h,vars:E,pointer:D,multiline:O,radius:M,id:A,withAria:K,withErrorStyles:N,mod:L,inputSize:Q,attributes:Y,__clearSection:ee,__clearable:te,__defaultRightSection:U,...X}=r,{styleProps:re,rest:ie}=ze(X),q=be(),le={offsetBottom:q?.offsetBottom,offsetTop:q?.offsetTop},B=oe({name:["Input",a],props:m||r,classes:T,className:n,style:o,classNames:s,styles:l,unstyled:c,attributes:Y,stylesCtx:le,rootSelector:"wrapper",vars:E,varsResolver:yt}),d=K?{required:i,disabled:P,"aria-invalid":!!V,"aria-describedby":q?.describedBy,id:q?.inputId||A}:{},v=ot({__clearable:te,__clearSection:ee,rightSection:S,__defaultRightSection:U,size:b});return F.jsx(rt,{value:{size:b||"sm"},children:F.jsxs(Z,{...B("wrapper"),...re,...g,mod:[{error:!!V&&N,pointer:D,disabled:P,multiline:O,"data-with-right-section":!!v,"data-with-left-section":!!I},L],variant:h,size:b,children:[I&&F.jsx("div",{...f,"data-position":"left",...B("section",{className:f?.className,style:f?.style}),children:I}),F.jsx(Z,{component:"input",...ie,...d,ref:e,required:i,mod:{disabled:P,error:!!V&&N},variant:h,__size:Q,...B("input")}),v&&F.jsx("div",{..._,"data-position":"right",...B("section",{className:_?.className,style:_?.style}),children:v})]})})});x.classes=T;x.Wrapper=je;x.Label=ge;x.Error=he;x.Description=Se;x.Placeholder=Fe;x.ClearButton=Le;x.displayName="@mantine/core/Input";function mt(t,e,r){const s=z(t,e,r),{label:n,description:o,error:l,required:c,classNames:i,styles:a,className:m,unstyled:b,__staticSelector:g,__stylesApiProps:V,errorProps:P,labelProps:I,descriptionProps:f,wrapperProps:p,id:S,size:_,style:j,inputContainer:$,inputWrapperOrder:y,withAsterisk:h,variant:E,vars:D,mod:O,attributes:M,...A}=s,{styleProps:K,rest:N}=ze(A),L={label:n,description:o,error:l,required:c,classNames:i,className:m,__staticSelector:g,__stylesApiProps:V||s,errorProps:P,labelProps:I,descriptionProps:f,unstyled:b,styles:a,size:_,style:j,inputContainer:$,inputWrapperOrder:y,withAsterisk:h,variant:E,id:S,mod:O,attributes:M,...p};return{...N,classNames:i,styles:a,unstyled:b,wrapperProps:{...L,...K},inputProps:{required:c,classNames:i,styles:a,unstyled:b,size:_,__staticSelector:g,__stylesApiProps:V||s,error:l,variant:E,id:S,attributes:M}}}const bt={__staticSelector:"InputBase",withAria:!0,size:"sm"},ve=Te((t,e)=>{const{inputProps:r,wrapperProps:s,...n}=mt("InputBase",bt,t);return F.jsx(x.Wrapper,{...s,children:F.jsx(x,{...r,...n,ref:e})})});ve.classes={...x.classes,...x.Wrapper.classes};ve.displayName="@mantine/core/InputBase";const Be=J((t,e)=>{const r=z("TextInput",null,t);return F.jsx(ve,{component:"input",ref:e,...r,__staticSelector:"TextInput"})});Be.classes=ve.classes;Be.displayName="@mantine/core/TextInput";function St(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const ht=typeof window<"u"?u.useLayoutEffect:u.useEffect;function w(t,e){ht(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function gt(t,e){t&&St(t),w(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),w(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),w(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),w(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),w(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),w(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),w(`mantine-form:${t}:clear-errors`,e.clearErrors),w(`mantine-form:${t}:reset`,e.reset),w(`mantine-form:${t}:validate`,e.validate),w(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),w(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),w(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),w(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),w(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),w(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),w(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),w(`mantine-form:${t}:reset-touched`,e.resetTouched)}function vt(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}function Ie(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const s=t[r];return s!=null&&s!==!1&&(e[r]=s),e},{})}function Et(t){const[e,r]=u.useState(Ie(t)),s=u.useRef(e),n=u.useCallback(i=>{r(a=>{const m=Ie(typeof i=="function"?i(a):i);return s.current=m,m})},[]),o=u.useCallback(()=>n({}),[]),l=u.useCallback(i=>{s.current[i]!==void 0&&n(a=>{const m={...a};return delete m[i],m})},[e]),c=u.useCallback((i,a)=>{a==null||a===!1?l(i):s.current[i]!==a&&n(m=>({...m,[i]:a}))},[e]);return{errorsState:e,setErrors:n,clearErrors:o,setFieldError:c,clearFieldError:l}}function Ve(t,e){if(e===null||typeof e!="object")return{};const r={...e};return Object.keys(e).forEach(s=>{s.includes(`${String(t)}.`)&&delete r[s]}),r}function $e(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function De(t,e,r,s){if(e===void 0)return r;const n=`${String(t)}`;let o=r;s===-1&&(o=Ve(`${n}.${e}`,o));const l={...o},c=new Set;return Object.entries(o).filter(([i])=>{if(!i.startsWith(`${n}.`))return!1;const a=$e(i,n);return Number.isNaN(a)?!1:a>=e}).forEach(([i,a])=>{const m=$e(i,n),b=i.replace(`${n}.${m}`,`${n}.${m+s}`);l[b]=a,c.add(b),c.has(i)||delete l[i]}),l}function It(t,{from:e,to:r},s){const n=`${t}.${e}`,o=`${t}.${r}`,l={...s},c=new Set;return Object.keys(s).forEach(i=>{if(c.has(i))return;let a,m;if(i.startsWith(n)?(a=i,m=i.replace(n,o)):i.startsWith(o)&&(a=i.replace(o,n),m=i),a&&m){const b=l[a],g=l[m];g===void 0?delete l[a]:l[a]=g,b===void 0?delete l[m]:l[m]=b,c.add(a),c.add(m)}}),l}function ke(t,e,r){typeof r.value=="object"&&(r.value=se(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function se(t){if(typeof t!="object")return t;var e=0,r,s,n,o=Object.prototype.toString.call(t);if(o==="[object Object]"?n=Object.create(t.__proto__||null):o==="[object Array]"?n=Array(t.length):o==="[object Set]"?(n=new Set,t.forEach(function(l){n.add(se(l))})):o==="[object Map]"?(n=new Map,t.forEach(function(l,c){n.set(se(c),se(l))})):o==="[object Date]"?n=new Date(+t):o==="[object RegExp]"?n=new RegExp(t.source,t.flags):o==="[object DataView]"?n=new t.constructor(se(t.buffer)):o==="[object ArrayBuffer]"?n=t.slice(0):o.slice(-6)==="Array]"&&(n=new t.constructor(t)),n){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)ke(n,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(n,r=s[e])&&n[r]===t[r]||ke(n,r,Object.getOwnPropertyDescriptor(t,r))}return n||t}function We(t){return typeof t!="string"?[]:t.split(".")}function C(t,e){const r=We(t);if(r.length===0||typeof e!="object"||e===null)return;let s=e[r[0]];for(let n=1;n<r.length&&s!=null;n+=1)s=s[r[n]];return s}function de(t,e,r){const s=We(t);if(s.length===0)return r;const n=se(r);if(s.length===1)return n[s[0]]=e,n;let o=n[s[0]];for(let l=1;l<s.length-1;l+=1){if(o===void 0)return n;o=o[s[l]]}return o[s[s.length-1]]=e,n}function Vt(t,{from:e,to:r},s){const n=C(t,s);if(!Array.isArray(n))return s;const o=[...n],l=n[e];return o.splice(e,1),o.splice(r,0,l),de(t,o,s)}function _t(t,e,r,s){const n=C(t,s);if(!Array.isArray(n))return s;const o=[...n];return o.splice(typeof r=="number"?r:o.length,0,e),de(t,o,s)}function Pt(t,e,r){const s=C(t,r);return Array.isArray(s)?de(t,s.filter((n,o)=>o!==e),r):r}function Ft(t,e,r,s){const n=C(t,s);if(!Array.isArray(n)||n.length<=r)return s;const o=[...n];return o[r]=e,de(t,o,s)}function jt({$values:t,$errors:e,$status:r}){const s=u.useCallback((c,i)=>{r.clearFieldDirty(c),e.setErrors(a=>It(c,i,a)),t.setValues({values:Vt(c,i,t.refValues.current),updateState:!0})},[]),n=u.useCallback((c,i)=>{r.clearFieldDirty(c),e.setErrors(a=>De(c,i,a,-1)),t.setValues({values:Pt(c,i,t.refValues.current),updateState:!0})},[]),o=u.useCallback((c,i,a)=>{r.clearFieldDirty(c),e.setErrors(m=>De(c,a,m,1)),t.setValues({values:_t(c,i,a,t.refValues.current),updateState:!0})},[]),l=u.useCallback((c,i,a)=>{r.clearFieldDirty(c),t.setValues({values:Ft(c,a,i,t.refValues.current),updateState:!0})},[]);return{reorderListItem:s,removeListItem:n,insertListItem:o,replaceListItem:l}}var Ee,Oe;function Ct(){return Oe||(Oe=1,Ee=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,n,o;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),s=o.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=s;n--!==0;){var l=o[n];if(!t(e[l],r[l]))return!1}return!0}return e!==e&&r!==r}),Ee}var wt=Ct();const pe=Me(wt);function ae(t,e){const r=Object.keys(t);if(typeof e=="string"){const s=r.filter(n=>n.startsWith(`${e}.`));return t[e]||s.some(n=>t[n])||!1}return r.some(s=>t[s])}function $t({initialDirty:t,initialTouched:e,mode:r,$values:s}){const[n,o]=u.useState(e),[l,c]=u.useState(t),i=u.useRef(e),a=u.useRef(t),m=u.useCallback(y=>{const h=typeof y=="function"?y(i.current):y;i.current=h,r==="controlled"&&o(h)},[]),b=u.useCallback((y,h=!1)=>{const E=typeof y=="function"?y(a.current):y;a.current=E,(r==="controlled"||h)&&c(E)},[]),g=u.useCallback(()=>m({}),[]),V=u.useCallback(y=>{const h=y?{...s.refValues.current,...y}:s.refValues.current;s.setValuesSnapshot(h),b({})},[]),P=u.useCallback((y,h)=>{m(E=>ae(E,y)===h?E:{...E,[y]:h})},[]),I=u.useCallback((y,h,E)=>{b(D=>ae(D,y)===h?D:{...D,[y]:h},E)},[]),f=u.useCallback((y,h)=>{const E=ae(a.current,y),D=!pe(C(y,s.getValuesSnapshot()),h),O=Ve(y,a.current);O[y]=D,b(O,E!==D)},[]),p=u.useCallback(y=>ae(i.current,y),[]),S=u.useCallback(y=>b(h=>{if(typeof y!="string")return h;const E=Ve(y,h);return delete E[y],pe(E,h)?h:E}),[]),_=u.useCallback(y=>{if(y){const E=C(y,a.current);if(typeof E=="boolean")return E;const D=C(y,s.refValues.current),O=C(y,s.valuesSnapshot.current);return!pe(D,O)}return Object.keys(a.current).length>0?ae(a.current):!pe(s.refValues.current,s.valuesSnapshot.current)},[]),j=u.useCallback(()=>a.current,[]),$=u.useCallback(()=>i.current,[]);return{touchedState:n,dirtyState:l,touchedRef:i,dirtyRef:a,setTouched:m,setDirty:b,resetDirty:V,resetTouched:g,isTouched:p,setFieldTouched:P,setFieldDirty:I,setTouchedState:o,setDirtyState:c,clearFieldDirty:S,isDirty:_,getDirty:j,getTouched:$,setCalculatedFieldDirty:f}}function Dt({initialValues:t,onValuesChange:e,mode:r}){const s=u.useRef(!1),[n,o]=u.useState(t||{}),l=u.useRef(n),c=u.useRef(n),i=u.useCallback(({values:f,subscribers:p,updateState:S=!0,mergeWithPreviousValues:_=!0})=>{const j=l.current,$=f instanceof Function?f(l.current):f,y=_?{...j,...$}:$;l.current=y,S&&(o(y),r==="uncontrolled"&&(l.current=y)),e?.(y,j),p?.filter(Boolean).forEach(h=>h({updatedValues:y,previousValues:j}))},[e]),a=u.useCallback(f=>{const p=C(f.path,l.current),S=f.value instanceof Function?f.value(p):f.value;if(p!==S){const _=l.current,j=de(f.path,S,l.current);i({values:j,updateState:f.updateState}),f.subscribers?.filter(Boolean).forEach($=>$({path:f.path,updatedValues:j,previousValues:_}))}},[i]),m=u.useCallback(f=>{c.current=f},[]),b=u.useCallback((f,p)=>{s.current||(s.current=!0,i({values:f,updateState:r==="controlled"}),m(f),p())},[i]),g=u.useCallback(()=>{i({values:c.current,updateState:!0,mergeWithPreviousValues:!1})},[i]),V=u.useCallback(()=>l.current,[]),P=u.useCallback(()=>c.current,[]),I=u.useCallback((f,p)=>{const S=C(f,c.current);typeof S>"u"||a({path:f,value:S,updateState:r==="controlled",subscribers:p})},[a,r]);return{initialized:s,stateValues:n,refValues:l,valuesSnapshot:c,setValues:i,setFieldValue:a,resetValues:g,setValuesSnapshot:m,initialize:b,getValues:V,getValuesSnapshot:P,resetField:I}}function kt({$status:t,cascadeUpdates:e}){const r=u.useRef({}),s=u.useCallback((o,l)=>{u.useEffect(()=>(r.current[o]=r.current[o]||[],r.current[o].push(l),()=>{r.current[o]=r.current[o].filter(c=>c!==l)}),[l])},[]),n=u.useCallback(o=>{const l=r.current[o]?.map(c=>i=>c({previousValue:C(o,i.previousValues),value:C(o,i.updatedValues),touched:t.isTouched(o),dirty:t.isDirty(o)}))??[];if(e)for(const c in r.current)(c.startsWith(`${o}.`)||o.startsWith(`${c}.`))&&l.push(...r.current[c].map(i=>a=>i({previousValue:C(c,a.previousValues),value:C(c,a.updatedValues),touched:t.isTouched(c),dirty:t.isDirty(c)})));return l},[]);return{subscribers:r,watch:s,getFieldSubscribers:n}}function Ne(t,e){return t?`${t}-${e.toString()}`:e.toString()}const ye=Symbol("root-rule");function Re(t){const e=Ie(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function _e(t,e,r="",s={}){return typeof t!="object"||t===null?s:Object.keys(t).reduce((n,o)=>{const l=t[o],c=`${r===""?"":`${r}.`}${o}`,i=C(c,e);let a=!1;return typeof l=="function"&&(n[c]=l(i,e,c)),typeof l=="object"&&Array.isArray(i)&&(a=!0,i.forEach((m,b)=>_e(l,e,`${c}.${b}`,n)),ye in l&&(n[c]=l[ye](i,e,c))),typeof l=="object"&&typeof i=="object"&&i!==null&&(a||_e(l,e,c,n),ye in l&&(n[c]=l[ye](i,e,c))),n},s)}function Pe(t,e){return Re(typeof t=="function"?t(e):_e(t,e))}function me(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const s=Pe(e,r),n=Object.keys(s.errors).find(o=>t.split(".").every((l,c)=>l===o.split(".")[c]));return{hasError:!!n,error:n?s.errors[n]:null}}const Ot="__MANTINE_FORM_INDEX__";function xe(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]+/g,`.${Ot}`)):!1:!1}function At({name:t,mode:e="controlled",initialValues:r,initialErrors:s={},initialDirty:n={},initialTouched:o={},clearInputErrorOnChange:l=!0,validateInputOnChange:c=!1,validateInputOnBlur:i=!1,onValuesChange:a,transformValues:m=(f=>f),enhanceGetInputProps:b,validate:g,onSubmitPreventDefault:V="always",touchTrigger:P="change",cascadeUpdates:I=!1}={}){const f=Et(s),p=Dt({initialValues:r,onValuesChange:a,mode:e}),S=$t({initialDirty:n,initialTouched:o,$values:p,mode:e}),_=jt({$values:p,$errors:f,$status:S}),j=kt({$status:S,cascadeUpdates:I}),[$,y]=u.useState(0),[h,E]=u.useState({}),[D,O]=u.useState(!1),M=u.useCallback(()=>{p.resetValues(),f.clearErrors(),S.resetDirty(),S.resetTouched(),e==="uncontrolled"&&y(d=>d+1)},[]),A=u.useCallback(d=>{l&&f.clearErrors(),e==="uncontrolled"&&y(v=>v+1),Object.keys(j.subscribers.current).forEach(v=>{const k=C(v,p.refValues.current),R=C(v,d);k!==R&&j.getFieldSubscribers(v).forEach(H=>H({previousValues:d,updatedValues:p.refValues.current}))})},[l]),K=u.useCallback(d=>{const v=p.refValues.current;p.initialize(d,()=>e==="uncontrolled"&&y(k=>k+1)),A(v)},[A]),N=u.useCallback((d,v,k)=>{const R=xe(d,c),H=v instanceof Function?v(C(d,p.refValues.current)):v;S.setCalculatedFieldDirty(d,H),P==="change"&&S.setFieldTouched(d,!0),!R&&l&&f.clearFieldError(d),p.setFieldValue({path:d,value:v,updateState:e==="controlled",subscribers:[...j.getFieldSubscribers(d),R?ce=>{const W=me(d,g,ce.updatedValues);W.hasError?f.setFieldError(d,W.error):f.clearFieldError(d)}:null,k?.forceUpdate!==!1&&e!=="controlled"?()=>E(ce=>({...ce,[d]:(ce[d]||0)+1})):null]})},[a,g]),L=u.useCallback(d=>{const v=p.refValues.current;p.setValues({values:d,updateState:e==="controlled"}),A(v)},[a,A]),Q=u.useCallback(()=>{const d=Pe(g,p.refValues.current);return f.setErrors(d.errors),d},[g]),Y=u.useCallback(d=>{const v=me(d,g,p.refValues.current);return v.hasError?f.setFieldError(d,v.error):f.clearFieldError(d),v},[g]),ee=(d,{type:v="input",withError:k=!0,withFocus:R=!0,...H}={})=>{const W={onChange:vt(fe=>N(d,fe,{forceUpdate:!1})),"data-path":Ne(t,d)};return k&&(W.error=f.errorsState[d]),v==="checkbox"?W[e==="controlled"?"checked":"defaultChecked"]=C(d,p.refValues.current):W[e==="controlled"?"value":"defaultValue"]=C(d,p.refValues.current),R&&(W.onFocus=()=>S.setFieldTouched(d,!0),W.onBlur=()=>{if(xe(d,i)){const fe=me(d,g,p.refValues.current);fe.hasError?f.setFieldError(d,fe.error):f.clearFieldError(d)}}),Object.assign(W,b?.({inputProps:W,field:d,options:{type:v,withError:k,withFocus:R,...H},form:B}))},te=(d,v)=>k=>{V==="always"&&k?.preventDefault();const R=Q();if(R.hasErrors)V==="validation-failed"&&k?.preventDefault(),v?.(R.errors,p.refValues.current,k);else{const H=d?.(m(p.refValues.current),k);H instanceof Promise&&(O(!0),H.finally(()=>O(!1)))}},U=d=>m(d||p.refValues.current),X=u.useCallback(d=>{d.preventDefault(),M()},[]),re=u.useCallback(d=>d?!me(d,g,p.refValues.current).hasError:!Pe(g,p.refValues.current).hasErrors,[g]),ie=d=>`${$}-${String(d)}-${h[String(d)]||0}`,q=u.useCallback(d=>document.querySelector(`[data-path="${Ne(t,d)}"]`),[]),le=u.useCallback(d=>{p.resetField(d,[e!=="controlled"?()=>E(v=>({...v,[d]:(v[d]||0)+1})):null])},[p.resetField,e,E]),B={watch:j.watch,initialized:p.initialized.current,values:e==="uncontrolled"?p.refValues.current:p.stateValues,getValues:p.getValues,getInitialValues:p.getValuesSnapshot,setInitialValues:p.setValuesSnapshot,resetField:le,initialize:K,setValues:L,setFieldValue:N,submitting:D,setSubmitting:O,errors:f.errorsState,setErrors:f.setErrors,setFieldError:f.setFieldError,clearFieldError:f.clearFieldError,clearErrors:f.clearErrors,resetDirty:S.resetDirty,setTouched:S.setTouched,setDirty:S.setDirty,isTouched:S.isTouched,resetTouched:S.resetTouched,isDirty:S.isDirty,getTouched:S.getTouched,getDirty:S.getDirty,reorderListItem:_.reorderListItem,insertListItem:_.insertListItem,removeListItem:_.removeListItem,replaceListItem:_.replaceListItem,reset:M,validate:Q,validateField:Y,getInputProps:ee,onSubmit:te,onReset:X,isValid:re,getTransformedValues:U,key:ie,getInputNode:q};return gt(t,B),B}export{x as I,Be as T,be as a,et as b,Ae as c,tt as d,ve as e,At as u};
