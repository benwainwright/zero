import{w as d,x as u,a,p as s}from"./chunk-7TW6LJC6-DaDHYynL.js";import{s as c}from"./current-user-provider-CQskWHqO.js";import{u as x}from"./use-command-DCyiuDTW.js";import{u as P}from"./use-event-DuvDEQyU.js";import{u as f,T as o}from"./use-form-CHjNTqrC.js";import{P as w}from"./page-9TQxibTZ.js";import{P as m,B as h}from"./PasswordInput-BVpFYo-r.js";import{G as g}from"./Group-CX22UYal.js";import"./use-events-BzQNw1ET.js";import"./use-isomorphic-effect-BxLUwthI.js";import"./CloseButton-BtMh9jHH.js";import"./UnstyledButton-AqrG-hBD.js";import"./route-available-D-XKoVLa.js";import"./Loader-DjTkaKnY.js";import"./index-DZSsE0QN.js";import"./use-reduced-motion-COKNnHEg.js";const v=()=>{const i=u(),{user:t,reload:p}=a.useContext(c),{execute:l}=x("CreateUserCommand"),e=f({initialValues:{username:"",email:"",password:"",validatePassword:""},validate:{email:r=>/^\S+@\S+$/.test(r)?null:"Invalid email",validatePassword:(r,n)=>r!==n.password?"Passwords did not match":null}});return a.useEffect(()=>{(async()=>t&&await i("/"))()},[t]),P("UserCreated",()=>{p?.()}),s.jsx(w,{routeName:"register",children:s.jsxs("form",{method:"post",onSubmit:e.onSubmit(l),children:[s.jsx(o,{label:"Username",placeholder:"",...e.getInputProps("username")},e.key("username")),s.jsx(o,{label:"Email",type:"email",placeholder:"",...e.getInputProps("email")},e.key("email")),s.jsx(m,{label:"Password",placeholder:"",...e.getInputProps("password")},e.key("password")),s.jsx(m,{label:"Verify Password",placeholder:"",...e.getInputProps("validatePassword")},e.key("validatePassword")),s.jsx(g,{mt:"md",children:s.jsx(h,{type:"submit",children:"Submit"})})]})})},$=d(v);export{$ as default};
